document.addEventListener('DOMContentLoaded', function() {
  const emojiPicker = document.getElementById('emoji-picker');
  const frequentlyUsedEmojis = ['💀','🧏‍♂️'.'☝️','🥳','🗿','😎','🥳','😒']; 
  const allEmojis = [ 
  '😀','😁','😂','🤣','😃','😄','😅','😆','😉','😊','😋','😎','😍','😘','🥰','😗','😙','😚','☺️','🙂','🤗','🤩','🤔','🤨','😐','😑','😶','🙄','😏','😣','😥','😮','🤐','😯','😪','😫','😴','😌','😛','😜','😝','🤤','😒','😓','😔','😕','🙃','🤑','😲','☹️','🙁','😖','😞','😟','😤','😢','😭','😦','😧','😨','😩','🤯','😬','😰','😱','🥵','🥶','😳','🤪','😵','😡','😠','🤬','😷','🤒','🤕','🤢','🤮','🤧','😇','🤠','🤡','🥳','🥴','🥺','🤥','🤫','🤭','🧐','🤓','😈','👿','👹','👺','💀','👻','👽','🤖','💩','😺','😸','😹','😻','😼','😽','🙀','😿','😾','👶','👧','🧒','👦','👩','🧑','👨','👵','🧓','👴','👲','👳‍♀️','👳‍♂️','🧕','🧔','👱‍♂️','👱‍♀️','👨‍🦰','👩‍🦰','👨‍🦱','👩‍🦱','👨‍🦲','👩‍🦲','👨‍🦳','👩‍🦳','🦸‍♀️','🦸‍♂️','🦹‍♀️','🦹‍♂️','👮‍♀️','👮‍♂️','👷‍♀️','👷‍♂️','💂‍♀️','💂‍♂️','🕵️‍♀️','🕵️‍♂️','👩‍⚕️','👨‍⚕️','👩‍🌾','👨‍🌾','👩‍🍳','👨‍🍳','👩‍🎓','👨‍🎓','👩‍🎤','👨‍🎤','👩‍🏫','👨‍🏫','👩‍🏭','👨‍🏭','👩‍💻','👨‍💻','👩‍💼','👨‍💼','👩‍🔧','👨‍🔧','👩‍🔬','👨‍🔬','👩‍🎨','👨‍🎨','👩‍🚒','👨‍🚒','👩‍✈️','👨‍✈️','👩‍🚀','👨‍🚀','👩‍⚖️','👨‍⚖️','👰','🤵','👸','🤴','🤶','🎅','🧙‍♀️','🧙‍♂️','🧝‍♀️','🧝‍♂️','🧛‍♀️','🧛‍♂️','🧟‍♀️','🧟‍♂️','🧞‍♀️','🧞‍♂️','🧜‍♀️','🧜‍♂️','🧚‍♀️','🧚‍♂️','👼','🤰','🤱','🙇‍♀️','🙇‍♂️','💁‍♀️','💁‍♂️','🙅‍♀️','🙅‍♂️','🙆‍♀️','🙆‍♂️','🙋‍♀️','🙋‍♂️','🤦‍♀️','🤦‍♂️','🤷‍♀️','🤷‍♂️','🙎‍♀️','🙎‍♂️','🙍‍♀️','🙍‍♂️','💇‍♀️','💇‍♂️','💆‍♀️','💆‍♂️','🧖‍♀️','🧖‍♂️','💅','🤳','💃','🕺','👯‍♀️','👯‍♂️','🕴','🚶‍♀️','🚶‍♂️','🏃‍♀️','🏃‍♂️','👫','👭','👬','💑','👩‍❤️‍👩','👨‍❤️‍👨','💏','👩‍❤️‍💋‍👩','👨‍❤️‍💋‍👨','👪','👨‍👩‍👧','👨‍👩‍👧‍👦','👨‍👩‍👦‍👦','👨‍👩‍👧‍👧','👩‍👩‍👦','👩‍👩‍👧','👩‍👩‍👧‍👦','👩‍👩‍👦‍👦','👩‍👩‍👧‍👧','👨‍👨‍👦','👨‍👨‍👧','👨‍👨‍👧‍👦','👨‍👨‍👦‍👦','👨‍👨‍👧‍👧','👩‍👦','👩‍👧','👩‍👧‍👦','👩‍👦‍👦','👩‍👧‍👧','👨‍👦','👨‍👧','👨‍👧‍👦','👨‍👦‍👦','👨‍👧‍👧','🤲','👐','🙌','👏','🤝','👍','👎','👊','✊','🤛','🤜','🤞','✌️','🤟','🤘','👌','👈','👉','👆','👇','☝️','✋','🤚','🖐','🖖','👋','🤙','💪','🦵','🦶','🖕','✍️','🙏','💍','💄','💋','👄','👅','👂','👃','👣','👁','👀','🧠','🦴','🦷','🗣','👤','👥','🧥','👚','👕','👖','👔','👗','👙','👘','👠','👡','👢','👞','👟','🥾','🥿','🧦','🧤','🧣','🎩','🧢','👒','🎓','⛑','👑','👝','👛','👜','💼','🎒','👓','🕶','🥽','🥼','🌂','🧵','🧶','👶🏻','👦🏻','👧🏻','👨🏻','👩🏻','👱🏻‍♀️','👱🏻','👴🏻','👵🏻','👲🏻','👳🏻‍♀️','👳🏻','👮🏻‍♀️','👮🏻','👷🏻‍♀️','👷🏻','💂🏻‍♀️','💂🏻','🕵🏻‍♀️','🕵🏻','👩🏻‍⚕️','👨🏻‍⚕️','👩🏻‍🌾','👨🏻‍🌾','👩🏻‍🍳','👨🏻‍🍳','👩🏻‍🎓','👨🏻‍🎓','👩🏻‍🎤','👨🏻‍🎤','👩🏻‍🏫','👨🏻‍🏫','👩🏻‍🏭','👨🏻‍🏭','👩🏻‍💻','👨🏻‍💻','👩🏻‍💼','👨🏻‍💼','👩🏻‍🔧','👨🏻‍🔧','👩🏻‍🔬','👨🏻‍🔬','👩🏻‍🎨','👨🏻‍🎨','👩🏻‍🚒','👨🏻‍🚒','👩🏻‍✈️','👨🏻‍✈️','👩🏻‍🚀','👨🏻‍🚀','👩🏻‍⚖️','👨🏻‍⚖️','🤶🏻','🎅🏻','👸🏻','🤴🏻','👰🏻','🤵🏻','👼🏻','🤰🏻','🙇🏻‍♀️','🙇🏻','💁🏻','💁🏻‍♂️','🙅🏻','🙅🏻‍♂️','🙆🏻','🙆🏻‍♂️','🙋🏻','🙋🏻‍♂️','🤦🏻‍♀️','🤦🏻‍♂️','🤷🏻‍♀️','🤷🏻‍♂️','🙎🏻','🙎🏻‍♂️','🙍🏻','🙍🏻‍♂️','💇🏻','💇🏻‍♂️','💆🏻','💆🏻‍♂️','🕴🏻','💃🏻','🕺🏻','🚶🏻‍♀️','🚶🏻','🏃🏻‍♀️','🏃🏻','🤲🏻','👐🏻','🙌🏻','👏🏻','🙏🏻','👍🏻','👎🏻','👊🏻','✊🏻','🤛🏻','🤜🏻','🤞🏻','✌🏻','🤟🏻','🤘🏻','👌🏻','👈🏻','👉🏻','👆🏻','👇🏻','☝🏻','✋🏻','🤚🏻','🖐🏻','🖖🏻','👋🏻','🤙🏻','💪🏻','🖕🏻','✍🏻','🤳🏻','💅🏻','👂🏻','👃🏻','👶🏼','👦🏼','👧🏼','👨🏼','👩🏼','👱🏼‍♀️','👱🏼','👴🏼','👵🏼','👲🏼','👳🏼‍♀️','👳🏼','👮🏼‍♀️','👮🏼','👷🏼‍♀️','👷🏼','💂🏼‍♀️','💂🏼','🕵🏼‍♀️','🕵🏼','👩🏼‍⚕️','👨🏼‍⚕️','👩🏼‍🌾','👨🏼‍🌾','👩🏼‍🍳','👨🏼‍🍳','👩🏼‍🎓','👨🏼‍🎓','👩🏼‍🎤','👨🏼‍🎤','👩🏼‍🏫','👨🏼‍🏫','👩🏼‍🏭','👨🏼‍🏭','👩🏼‍💻','👨🏼‍💻','👩🏼‍💼','👨🏼‍💼','👩🏼‍🔧','👨🏼‍🔧','👩🏼‍🔬','👨🏼‍🔬','👩🏼‍🎨','👨🏼‍🎨','👩🏼‍🚒','👨🏼‍🚒','👩🏼‍✈️','👨🏼‍✈️','👩🏼‍🚀','👨🏼‍🚀','👩🏼‍⚖️','👨🏼‍⚖️','🤶🏼','🎅🏼','👸🏼','🤴🏼','👰🏼','🤵🏼','👼🏼','🤰🏼','🙇🏼‍♀️','🙇🏼','💁🏼','💁🏼‍♂️','🙅🏼','🙅🏼‍♂️','🙆🏼','🙆🏼‍♂️','🙋🏼','🙋🏼‍♂️','🤦🏼‍♀️','🤦🏼‍♂️','🤷🏼‍♀️','🤷🏼‍♂️','🙎🏼','🙎🏼‍♂️','🙍🏼','🙍🏼‍♂️','💇🏼','💇🏼‍♂️','💆🏼','💆🏼‍♂️','🕴🏼','💃🏼','🕺🏼','🚶🏼‍♀️','🚶🏼','🏃🏼‍♀️','🏃🏼','🤲🏼','👐🏼','🙌🏼','👏🏼','🙏🏼','👍🏼','👎🏼','👊🏼','✊🏼','🤛🏼','🤜🏼','🤞🏼','✌🏼','🤟🏼','🤘🏼','👌🏼','👈🏼','👉🏼','👆🏼','👇🏼','☝🏼','✋🏼','🤚🏼','🖐🏼','🖖🏼','👋🏼','🤙🏼','💪🏼','🖕🏼','✍🏼','🤳🏼','💅🏼','👂🏼','👃🏼','👶🏽','👦🏽','👧🏽','👨🏽','👩🏽','👱🏽‍♀️','👱🏽','👴🏽','👵🏽','👲🏽','👳🏽‍♀️','👳🏽','👮🏽‍♀️','👮🏽','👷🏽‍♀️','👷🏽','💂🏽‍♀️','💂🏽','🕵🏽‍♀️','🕵🏽','👩🏽‍⚕️','👨🏽‍⚕️','👩🏽‍🌾','👨🏽‍🌾','👩🏽‍🍳','👨🏽‍🍳','👩🏽‍🎓','👨🏽‍🎓','👩🏽‍🎤','👨🏽‍🎤','👩🏽‍🏫','👨🏽‍🏫','👩🏽‍🏭','👨🏽‍🏭','👩🏽‍💻','👨🏽‍💻','👩🏽‍💼','👨🏽‍💼','👩🏽‍🔧','👨🏽‍🔧','👩🏽‍🔬','👨🏽‍🔬','👩🏽‍🎨','👨🏽‍🎨','👩🏽‍🚒','👨🏽‍🚒','👩🏽‍✈️','👨🏽‍✈️','👩🏽‍🚀','👨🏽‍🚀','👩🏽‍⚖️','👨🏽‍⚖️','🤶🏽','🎅🏽','👸🏽','🤴🏽','👰🏽','🤵🏽','👼🏽','🤰🏽','🙇🏽‍♀️','🙇🏽','💁🏽','💁🏽‍♂️','🙅🏽','🙅🏽‍♂️','🙆🏽','🙆🏽‍♂️','🙋🏽','🙋🏽‍♂️','🤦🏽‍♀️','🤦🏽‍♂️','🤷🏽‍♀️','🤷🏽‍♂️','🙎🏽','🙎🏽‍♂️','🙍🏽','🙍🏽‍♂️','💇🏽','💇🏽‍♂️','💆🏽','💆🏽‍♂️','🕴🏼','💃🏽','🕺🏽','🚶🏽‍♀️','🚶🏽','🏃🏽‍♀️','🏃🏽','🤲🏽','👐🏽','🙌🏽','👏🏽','🙏🏽','👍🏽','👎🏽','👊🏽','✊🏽','🤛🏽','🤜🏽','🤞🏽','✌🏽','🤟🏽','🤘🏽','👌🏽','👈🏽','👉🏽','👆🏽','👇🏽','☝🏽','✋🏽','🤚🏽','🖐🏽','🖖🏽','👋🏽','🤙🏽','💪🏽','🖕🏽','✍🏽','🤳🏽','💅🏽','👂🏽','👃🏽','👶🏾','👦🏾','👧🏾','👨🏾','👩🏾','👱🏾‍♀️','👱🏾','👴🏾','👵🏾','👲🏾','👳🏾‍♀️','👳🏾','👮🏾‍♀️','👮🏾','👷🏾‍♀️','👷🏾','💂🏾‍♀️','💂🏾','🕵🏾‍♀️','🕵🏾','👩🏾‍⚕️','👨🏾‍⚕️','👩🏾‍🌾','👨🏾‍🌾','👩🏾‍🍳','👨🏾‍🍳','👩🏾‍🎓','👨🏾‍🎓','👩🏾‍🎤','👨🏾‍🎤','👩🏾‍🏫','👨🏾‍🏫','👩🏾‍🏭','👨🏾‍🏭','👩🏾‍💻','👨🏾‍💻','👩🏾‍💼','👨🏾‍💼','👩🏾‍🔧','👨🏾‍🔧','👩🏾‍🔬','👨🏾‍🔬','👩🏾‍🎨','👨🏾‍🎨','👩🏾‍🚒','👨🏾‍🚒','👩🏾‍✈️','👨🏾‍✈️','👩🏾‍🚀','👨🏾‍🚀','👩🏾‍⚖️','👨🏾‍⚖️','🤶🏾','🎅🏾','👸🏾','🤴🏾','👰🏾','🤵🏾','👼🏾','🤰🏾','🙇🏾‍♀️','🙇🏾','💁🏾','💁🏾‍♂️','🙅🏾','🙅🏾‍♂️','🙆🏾','🙆🏾‍♂️','🙋🏾','🙋🏾‍♂️','🤦🏾‍♀️','🤦🏾‍♂️','🤷🏾‍♀️','🤷🏾‍♂️','🙎🏾','🙎🏾‍♂️','🙍🏾','🙍🏾‍♂️','💇🏾','💇🏾‍♂️','💆🏾','💆🏾‍♂️','🕴🏾','💃🏾','🕺🏾','🚶🏾‍♀️','🚶🏾','🏃🏾‍♀️','🏃🏾','🤲🏾','👐🏾','🙌🏾','👏🏾','🙏🏾','👍🏾','👎🏾','👊🏾','✊🏾','🤛🏾','🤜🏾','🤞🏾','✌🏾','🤟🏾','🤘🏾','👌🏾','👈🏾','👉🏾','👆🏾','👇🏾','☝🏾','✋🏾','🤚🏾','🖐🏾','🖖🏾','👋🏾','🤙🏾','💪🏾','🖕🏾','✍🏾','🤳🏾','💅🏾','👂🏾','👃🏾','👶🏿','👦🏿','👧🏿','👨🏿','👩🏿','👱🏿‍♀️','👱🏿','👴🏿','👵🏿','👲🏿','👳🏿‍♀️','👳🏿','👮🏿‍♀️','👮🏿','👷🏿‍♀️','👷🏿','💂🏿‍♀️','💂🏿','🕵🏿‍♀️','🕵🏿','👩🏿‍⚕️','👨🏿‍⚕️','👩🏿‍🌾','👨🏿‍🌾','👩🏿‍🍳','👨🏿‍🍳','👩🏿‍🎓','👨🏿‍🎓','👩🏿‍🎤','👨🏿‍🎤','👩🏿‍🏫','👨🏿‍🏫','👩🏿‍🏭','👨🏿‍🏭','👩🏿‍💻','👨🏿‍💻','👩🏿‍💼','👨🏿‍💼','👩🏿‍🔧','👨🏿‍🔧','👩🏿‍🔬','👨🏿‍🔬','👩🏿‍🎨','👨🏿‍🎨','👩🏿‍🚒','👨🏿‍🚒','👩🏿‍✈️','👨🏿‍✈️','👩🏿‍🚀','👨🏿‍🚀','👩🏿‍⚖️','👨🏿‍⚖️','🤶🏿','🎅🏿','👸🏿','🤴🏿','👰🏿','🤵🏿','👼🏿','🤰🏿','🙇🏿‍♀️','🙇🏿','💁🏿','💁🏿‍♂️','🙅🏿','🙅🏿‍♂️','🙆🏿','🙆🏿‍♂️','🙋🏿','🙋🏿‍♂️','🤦🏿‍♀️','🤦🏿‍♂️','🤷🏿‍♀️','🤷🏿‍♂️','🙎🏿','🙎🏿‍♂️','🙍🏿','🙍🏿‍♂️','💇🏿','💇🏿‍♂️','💆🏿','💆🏿‍♂️','🕴🏿','💃🏿','🕺🏿','🚶🏿‍♀️','🚶🏿','🏃🏿‍♀️','🏃🏿','🤲🏿','👐🏿','🙌🏿','👏🏿','🙏🏿','👍🏿','👎🏿','👊🏿','✊🏿','🤛🏿','🤜🏿','🤞🏿','✌🏿','🤟🏿','🤘🏿','👌🏿','👈🏿','👉🏿','👆🏿','👇🏿','☝🏿','✋🏿','🤚🏿','🖐🏿','🖖🏿','👋🏿','🤙🏿','💪🏿','🖕🏿','✍🏿','🤳🏿','💅🏿','👂🏿','👃🏿','🐶','🐱','🐭','🐹','🐰','🦊','🦝','🐻','🐼','🦘','🦡','🐨','🐯','🦁','🐮','🐷','🐽','🐸','🐵','🙈','🙉','🙊','🐒','🐔','🐧','🐦','🐤','🐣','🐥','🦆','🦢','🦅','🦉','🦚','🦜','🦇','🐺','🐗','🐴','🦄','🐝','🐛','🦋','🐌','🐚','🐞','🐜','🦗','🕷','🕸','🦂','🦟','🦠','🐢','🐍','🦎','🦖','🦕','🐙','🦑','🦐','🦀','🐡','🐠','🐟','🐬','🐳','🐋','🦈','🐊','🐅','🐆','🦓','🦍','🐘','🦏','🦛','🐪','🐫','🦙','🦒','🐃','🐂','🐄','🐎','🐖','🐏','🐑','🐐','🦌','🐕','🐩','🐈','🐓','🦃','🕊','🐇','🐁','🐀','🐿','🦔','🐾','🐉','🐲','🌵','🎄','🌲','🌳','🌴','🌱','🌿','☘️','🍀','🎍','🎋','🍃','🍂','🍁','🍄','🌾','💐','🌷','🌹','🥀','🌺','🌸','🌼','🌻','🌞','🌝','🌛','🌜','🌚','🌕','🌖','🌗','🌘','🌑','🌒','🌓','🌔','🌙','🌎','🌍','🌏','💫','⭐️','🌟','✨','⚡️','☄️','💥','🔥','🌪','🌈','☀️','🌤','⛅️','🌥','☁️','🌦','🌧','⛈','🌩','🌨','❄️','☃️','⛄️','🌬','💨','💧','💦','☔️','☂️','🌊','🌫','🍏','🍎','🍐','🍊','🍋','🍌','🍉','🍇','🍓','🍈','🍒','🍑','🍍','🥭','🥥','🥝','🍅','🍆','🥑','🥦','🥒','🥬','🌶','🌽','🥕','🥔','🍠','🥐','🍞','🥖','🥨','🥯','🧀','🥚','🍳','🥞','🥓','🥩','🍗','🍖','🌭','🍔','🍟','🍕','🥪','🥙','🌮','🌯','🥗','🥘','🥫','🍝','🍜','🍲','🍛','🍣','🍱','🥟','🍤','🍙','🍚','🍘','🍥','🥮','🥠','🍢','🍡','🍧','🍨','🍦','🥧','🍰','🎂','🍮','🍭','🍬','🍫','🍿','🧂','🍩','🍪','🌰','🥜','🍯','🥛','🍼','☕️','🍵','🥤','🍶','🍺','🍻','🥂','🍷','🥃','🍸','🍹','🍾','🥄','🍴','🍽','🥣','🥡','🥢','⚽️','🏀','🏈','⚾️','🥎','🏐','🏉','🎾','🥏','🎱','🏓','🏸','🥅','🏒','🏑','🥍','🏏','⛳️','🏹','🎣','🥊','🥋','🎽','⛸','🥌','🛷','🛹','🎿','⛷','🏂','🏋️‍♀️','🏋🏻‍♀️','🏋🏼‍♀️','🏋🏽‍♀️','🏋🏾‍♀️','🏋🏿‍♀️','🏋️‍♂️','🏋🏻‍♂️','🏋🏼‍♂️','🏋🏽‍♂️','🏋🏾‍♂️','🏋🏿‍♂️','🤼‍♀️','🤼‍♂️','🤸‍♀️','🤸🏻‍♀️','🤸🏼‍♀️','🤸🏽‍♀️','🤸🏾‍♀️','🤸🏿‍♀️','🤸‍♂️','🤸🏻‍♂️','🤸🏼‍♂️','🤸🏽‍♂️','🤸🏾‍♂️','🤸🏿‍♂️','⛹️‍♀️','⛹🏻‍♀️','⛹🏼‍♀️','⛹🏽‍♀️','⛹🏾‍♀️','⛹🏿‍♀️','⛹️‍♂️','⛹🏻‍♂️','⛹🏼‍♂️','⛹🏽‍♂️','⛹🏾‍♂️','⛹🏿‍♂️','🤺','🤾‍♀️','🤾🏻‍♀️','🤾🏼‍♀️','🤾🏾‍♀️','🤾🏾‍♀️','🤾🏿‍♀️','🤾‍♂️','🤾🏻‍♂️','🤾🏼‍♂️','🤾🏽‍♂️','🤾🏾‍♂️','🤾🏿‍♂️','🏌️‍♀️','🏌🏻‍♀️','🏌🏼‍♀️','🏌🏽‍♀️','🏌🏾‍♀️','🏌🏿‍♀️','🏌️‍♂️','🏌🏻‍♂️','🏌🏼‍♂️','🏌🏽‍♂️','🏌🏾‍♂️','🏌🏿‍♂️','🏇','🏇🏻','🏇🏼','🏇🏽','🏇🏾','🏇🏿','🧘‍♀️','🧘🏻‍♀️','🧘🏼‍♀️','🧘🏽‍♀️','🧘🏾‍♀️','🧘🏿‍♀️','🧘‍♂️','🧘🏻‍♂️','🧘🏼‍♂️','🧘🏽‍♂️','🧘🏾‍♂️','🧘🏿‍♂️','🏄‍♀️','🏄🏻‍♀️','🏄🏼‍♀️','🏄🏽‍♀️','🏄🏾‍♀️','🏄🏿‍♀️','🏄‍♂️','🏄🏻‍♂️','🏄🏼‍♂️','🏄🏽‍♂️','🏄🏾‍♂️','🏄🏿‍♂️','🏊‍♀️','🏊🏻‍♀️','🏊🏼‍♀️','🏊🏽‍♀️','🏊🏾‍♀️','🏊🏿‍♀️','🏊‍♂️','🏊🏻‍♂️','🏊🏼‍♂️','🏊🏽‍♂️','🏊🏾‍♂️','🏊🏿‍♂️','🤽‍♀️','🤽🏻‍♀️','🤽🏼‍♀️','🤽🏽‍♀️','🤽🏾‍♀️','🤽🏿‍♀️','🤽‍♂️','🤽🏻‍♂️','🤽🏼‍♂️','🤽🏽‍♂️','🤽🏾‍♂️','🤽🏿‍♂️','🚣‍♀️','🚣🏻‍♀️','🚣🏼‍♀️','🚣🏽‍♀️','🚣🏾‍♀️','🚣🏿‍♀️','🚣‍♂️','🚣🏻‍♂️','🚣🏼‍♂️','🚣🏽‍♂️','🚣🏾‍♂️','🚣🏿‍♂️','🧗‍♀️','🧗🏻‍♀️','🧗🏼‍♀️','🧗🏽‍♀️','🧗🏾‍♀️','🧗🏿‍♀️','🧗‍♂️','🧗🏻‍♂️','🧗🏼‍♂️','🧗🏽‍♂️','🧗🏾‍♂️','🧗🏿‍♂️','🚵‍♀️','🚵🏻‍♀️','🚵🏼‍♀️','🚵🏽‍♀️','🚵🏾‍♀️','🚵🏿‍♀️','🚵‍♂️','🚵🏻‍♂️','🚵🏼‍♂️','🚵🏽‍♂️','🚵🏾‍♂️','🚵🏿‍♂️','🚴‍♀️','🚴🏻‍♀️','🚴🏼‍♀️','🚴🏽‍♀️','🚴🏾‍♀️','🚴🏿‍♀️','🚴‍♂️','🚴🏻‍♂️','🚴🏼‍♂️','🚴🏽‍♂️','🚴🏾‍♂️','🚴🏿‍♂️','🏆','🥇','🥈','🥉','🏅','🎖','🏵','🎗','🎫','🎟','🎪','🤹‍♀️','🤹🏻‍♀️','🤹🏼‍♀️','🤹🏽‍♀️','🤹🏾‍♀️','🤹🏿‍♀️','🤹‍♂️','🤹🏻‍♂️','🤹🏼‍♂️','🤹🏽‍♂️','🤹🏾‍♂️','🤹🏿‍♂️','🎭','🎨','🎬','🎤','🎧','🎼','🎹','🥁','🎷','🎺','🎸','🎻','🎲','🧩','♟','🎯','🎳','🎮','🎰','🚗','🚕','🚙','🚌','🚎','🏎','🚓','🚑','🚒','🚐','🚚','🚛','🚜','🛴','🚲','🛵','🏍','🚨','🚔','🚍','🚘','🚖','🚡','🚠','🚟','🚃','🚋','🚞','🚝','🚄','🚅','🚈','🚂','🚆','🚇','🚊','🚉','✈️','🛫','🛬','🛩','💺','🛰','🚀','🛸','🚁','🛶','⛵️','🚤','🛥','🛳','⛴','🚢','⚓️','⛽️','🚧','🚦','🚥','🚏','🗺','🗿','🗽','🗼','🏰','🏯','🏟','🎡','🎢','🎠','⛲️','⛱','🏖','🏝','🏜','🌋','⛰','🏔','🗻','🏕','⛺️','🏠','🏡','🏘','🏚','🏗','🏭','🏢','🏬','🏣','🏤','🏥','🏦','🏨','🏪','🏫','🏩','💒','🏛','⛪️','🕌','🕍','🕋','⛩','🛤','🛣','🗾','🎑','🏞','🌅','🌄','🌠','🎇','🎆','🌇','🌆','🏙','🌃','🌌','🌉','🌁','⌚️','📱','📲','💻','⌨️','🖥','🖨','🖱','🖲','🕹','🗜','💽','💾','💿','📀','📼','📷','📸','📹','🎥','📽','🎞','📞','☎️','📟','📠','📺','📻','🎙','🎚','🎛','⏱','⏲','⏰','🕰','⌛️','⏳','📡','🔋','🔌','💡','🔦','🕯','🗑','🛢','💸','💵','💴','💶','💷','💰','💳','🧾','💎','⚖️','🔧','🔨','⚒','🛠','⛏','🔩','⚙️','⛓','🔫','💣','🔪','🗡','⚔️','🛡','🚬','⚰️','⚱️','🏺','🧭','🧱','🔮','🧿','🧸','📿','💈','⚗️','🔭','🧰','🧲','🧪','🧫','🧬','🧯','🔬','🕳','💊','💉','🌡','🚽','🚰','🚿','🛁','🛀','🛀🏻','🛀🏼','🛀🏽','🛀🏾','🛀🏿','🧴','🧵','🧶','🧷','🧹','🧺','🧻','🧼','🧽','🛎','🔑','🗝','🚪','🛋','🛏','🛌','🖼','🛍','🧳','🛒','🎁','🎈','🎏','🎀','🎊','🎉','🧨','🎎','🏮','🎐','🧧','✉️','📩','📨','📧','💌','📥','📤','📦','🏷','📪','📫','📬','📭','📮','📯','📜','📃','📄','📑','📊','📈','📉','🗒','🗓','📆','📅','📇','🗃','🗳','🗄','📋','📁','📂','🗂','🗞','📰','📓','📔','📒','📕','📗','📘','📙','📚','📖','🔖','🔗','📎','🖇','📐','📏','📌','📍','✂️','🖊','🖋','✒️','🖌','🖍','📝','✏️','🔍','🔎','🔏','🔐','🔒','🔓','❤️','🧡','💛','💚','💙','💜','🖤','💔','❣️','💕','💞','💓','💗','💖','💘','💝','💟','☮️','✝️','☪️','🕉','☸️','✡️','🔯','🕎','☯️','☦️','🛐','⛎','♈️','♉️','♊️','♋️','♌️','♍️','♎️','♏️','♐️','♑️','♒️','♓️','🆔','⚛️','🉑','☢️','☣️','📴','📳','🈶','🈚️','🈸','🈺','🈷️','✴️','🆚','💮','🉐','㊙️','㊗️','🈴','🈵','🈹','🈲','
  ];

  function displayEmojis(emojis) {
    emojiPicker.innerHTML = '';
    emojis.forEach(emoji => {
      const button = document.createElement('button');
      button.textContent = emoji;
      button.style.fontSize = '24px';
      button.style.margin = '5px';
      button.style.padding = '5px';
      button.style.border = 'none';
      button.style.cursor = 'pointer';
      button.style.background = 'none';
      button.addEventListener('click', () => {
        window.parent.postMessage({ type: 'emoji-selected', emoji }, '*');
      });
      emojiPicker.appendChild(button);
    });
  }

  displayEmojis(frequentlyUsedEmojis);

  window.addEventListener('message', function(event) {
    if (event.data.type === 'emoji-update') {
      const query = event.data.query;
      const filteredEmojis = allEmojis.filter(emoji => emoji.includes(query));
      displayEmojis(filteredEmojis);
    }
  });
});
